- var title = '其他功能';
- var navIndex = 6;

doctype html
include components/head
    script(type='text/javascript').
        function $(eleStr){
            switch(eleStr.substr(0,1)){
                case "#":
                    return document.getElementById(eleStr.substr(1));
                    break;
                case ".":
                    return document.getElementsByClassName(eleStr.substr(1));
                    break;
                case "_":
                    return document.getElementsByName(eleStr.substr(1));
                    break;
                default:
                    return document.getElementsByTagName(eleStr);
                    break;
            }
        }
        onload = function(){
            doOperator();
        }
        function doOperator(){
            var updatelinks =$(".updatelink");
            var updatenames =$(".updatename");
            var dels =$(".del");
            for (var i = 0; i < dels.length; i++) {
                dels[i].onclick = function(){
                    if(confirm("是否确定删除？")){    //提示是否删除
                        //var row = this.parentNode.parentNode; //取到tr对象
                        //row.parentNode.removeChild(row);    //移除tr
                        $("#table").deleteRow(this.parentNode.parentNode.rowIndex);
                    }
                }
                updatenames[i].onclick = function(){
                    var operatorCell = this.parentNode.parentNode.getElementsByTagName("td")[0]; //取到要操作的td对象
                    //1.修改按钮上有两个功能：修改，确定修改
                    if(this.value == "修改名称"){
                        this.value = "确定";
                        operatorCell.innerHTML ="<input value='"+operatorCell.innerHTML+"'/>";//把内容变成文本框
                        //做修改操作
                    }else{
                        operatorCell.innerHTML =operatorCell.getElementsByTagName("input")[0].value;//把文本框变成内容
                        this.value = "修改名称";
                        //做确定修改
                    }
                }
                updatelinks[i].onclick = function(){
                    var operatorCell = this.parentNode.parentNode.getElementsByTagName("td")[1]; //取到要操作的td对象
                    //1.修改按钮上有两个功能：修改，确定修改
                    if(this.value == "修改网址"){
                            this.value = "确定";
                            operatorCell.innerHTML ="<input value='"+operatorCell.innerHTML+"'/>";//把内容变成文本框
                            //做修改操作
                    }else{
                            operatorCell.innerHTML =operatorCell.getElementsByTagName("input")[0].value;//把文本框变成内容
                            this.value = "修改网址";
                            //做确定修改
                    }
                }
            }
        }
.container
    include ../components/topbar
    include components/nav
    .wrapper.col3
        #container
            #content
                h1 链接列表
                table#table(summary='Summary Here', cellpadding='0', cellspacing='0')
                    thead
                        tr
                            th 链接名称
                            th 链接网址
                            th 操作
                    tbody
                        tr.light
                            td 浙江大学图书馆
                            td http://libweb.zju.edu.cn/libweb/
                            td
                                input.del(type='button', value='删除')
                                input.updatename(type='button', value='修改名称')
                                input.updatelink(type='button', value='修改网址')
                            // 后端宝宝们，这里是js实现的删除修改效果，注意还要把数据库里的也删掉或修改
                        tr.dark
                            td 浙江大学计算机学院
                            td http://cspo.zju.edu.cn/
                            td
                                input.del(type='button', value='删除')
                                input.updatename(type='button', value='修改名称')
                                input.updatelink(type='button', value='修改网址')
                            // 后端宝宝们，这里是js实现的删除修改效果，注意还要把数据库里的也删掉或修改
                form(action='others_addlink', method='post')
                    fieldset
                        p
                            input(type='submit', name='', id='', value='添加友情链接')
            #column
                .subnav(style='position: fixed')
                    h2 其他
                    ul
                        li
                            a(href='others_info') 信息发布
                        li
                            a(href='others_link') 编辑友情链接
            .clear
    include ../components/footer